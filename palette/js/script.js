var touchStartX,touchStartY,touchEndX,touchEndY;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("service-worker.js").then(e=>{console.log("Service Worker is registered",e)}).catch(e=>{console.error("Registration failed:",e)})});var btnHold,isLongPress,helpBtn=document.querySelector(".help__btn");function getColor(){var e=window.getComputedStyle(document.documentElement).getPropertyValue("--screen-light").split(",");return e[0]=e[0].replace("hsl(",""),e[1]=e[1].replace("%",""),e[2]=e[2].replace("%)",""),e}function setHue(e){hslArr=getColor(),+hslArr[0]+ +e>360?desiredColor="hsl("+(+hslArr[0]+ +e-360)+","+hslArr[1]+"%,"+hslArr[2]+"%)":+hslArr[0]+ +e<0?desiredColor="hsl("+(+hslArr[0]+ +e+360)+","+hslArr[1]+"%,"+hslArr[2]+"%)":desiredColor="hsl("+(+hslArr[0]+ +e)+","+hslArr[1]+"%,"+hslArr[2]+"%)",document.documentElement.style.setProperty("--screen-light",desiredColor)}function setSaturation(e){hslArr=getColor(),+hslArr[1]+ +e>100||+hslArr[1]+ +e<0||(desiredColor="hsl("+hslArr[0]+","+(+hslArr[1]+ +e)+"%,"+hslArr[2]+"%)",document.documentElement.style.setProperty("--screen-light",desiredColor))}function setLightness(e){hslArr=getColor(),+hslArr[2]+ +e>100||+hslArr[2]+ +e<0||(desiredColor="hsl("+hslArr[0]+","+hslArr[1]+"%,"+(+hslArr[2]+ +e)+"%)",document.documentElement.style.setProperty("--screen-light",desiredColor),+hslArr[2]+ +e<=30?document.documentElement.style.setProperty("--secondary-color","hsl(0, 0%, 73%)"):document.documentElement.style.setProperty("--secondary-color","hsl(44, 10%, 13%)"))}function swipe(){var e=touchEndX-touchStartX,t=touchEndY-touchStartY;Math.abs(e)<100&&Math.abs(t)<100||(Math.abs(e)>Math.abs(t)?setHue(e>0?30:-30):setLightness(t>0?10:-10))}function showHelp(){event.preventDefault,document.querySelector(".help__container").classList.toggle("help__container--closed")}function hideBtn(){document.querySelector(".help__icon").classList.toggle("help__icon--hide"),isLongPress=!0}function btnReleased(){clearTimeout(btnHold),isLongPress&&(helpBtn.removeEventListener("click",showHelp),shortTimeout=setTimeout(function(){helpBtn.addEventListener("click",showHelp)},100))}document.addEventListener("keydown",function(e){switch(e.code){case"ArrowRight":setHue(30);break;case"ArrowLeft":setHue(-30);break;case"KeyZ":setSaturation(10);break;case"KeyX":setSaturation(-10);break;case"ArrowUp":setLightness(10);break;case"ArrowDown":setLightness(-10)}}),document.addEventListener("touchstart",function(e){touchStartX=e.changedTouches[0].screenX,touchStartY=e.changedTouches[0].screenY}),document.addEventListener("touchend",function(e){touchEndX=e.changedTouches[0].screenX,touchEndY=e.changedTouches[0].screenY,swipe()}),helpBtn.addEventListener("click",showHelp),helpBtn.addEventListener("mousedown",function(e){isLongPress=!1,btnHold=setTimeout(hideBtn,2e3)}),helpBtn.addEventListener("mouseup",function(e){btnReleased()}),helpBtn.addEventListener("touchstart",function(e){isLongPress=!1,btnHold=setTimeout(hideBtn,2e3)}),helpBtn.addEventListener("touchend",function(e){btnReleased()});